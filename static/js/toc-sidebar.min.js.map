{
  "version": 3,
  "sources": ["../toc-sidebar.js"],
  "sourcesContent": [
    "window.addEventListener(\"DOMContentLoaded\", () => {\n  function isInView(elem) {\n    const boundingRect = elem.getBoundingClientRect();\n\n    if (\n      boundingRect.top >= 0 &&\n      boundingRect.left >= 0 &&\n      boundingRect.bottom <=\n        (window.innerHeight || document.documentElement.clientHeight) &&\n      boundingRect.right <=\n        (window.innerWidth || document.documentElement.clientWidth)\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  let prevScrollTop = window.pageYOffset || document.documentElement.scrollTop;\n  let prevScrollDirection = \"\";\n  window.addEventListener(\n    \"scroll\",\n    function () {\n      const st = window.pageYOffset || document.documentElement.scrollTop;\n      if (st > prevScrollTop && prevScrollDirection !== \"down\") {\n        prevScrollDirection = \"down\";\n      } else if (st < prevScrollTop && prevScrollDirection !== \"up\") {\n        prevScrollDirection = \"up\";\n      }\n      prevScrollTop = st <= 0 ? 0 : st; // for Mobile or negative scrolling\n    },\n    false\n  );\n\n  function isNewestInScrollDirection(elem1, elem2) {\n    const boundingRect1 = elem1.getBoundingClientRect();\n    const boundingRect2 = elem2.getBoundingClientRect();\n\n    if (\n      prevScrollDirection == \"down\" &&\n      boundingRect1.top > boundingRect2.top\n    ) {\n      return true;\n    } else if (\n      prevScrollDirection == \"up\" &&\n      boundingRect1.top < boundingRect2.top\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // During long sections the heading may no longer be showing, but we still\n  // want to indicate to the user where they are, so we hang on to it.\n  let lastTargets = [];\n  let lastToBeAdded = null;\n  const observer = new IntersectionObserver((entries) => {\n    entries.forEach((entry) => {\n      const id = entry.target.getAttribute(\"id\");\n      const tocItem = document.querySelector(\n        `#table-of-contents-sidebar a[href$=\"#${id}\"]`\n      );\n      if (tocItem) {\n        if (entry.intersectionRatio > 0) {\n          const newTargets = [entry.target];\n          lastTargets.forEach((lastTarget) => {\n            if (!isInView(lastTarget)) {\n              const lastTargetId = lastTarget.getAttribute(\"id\");\n              const lastTargetTocItem = document.querySelector(\n                `#table-of-contents-sidebar a[href$=\"#${lastTargetId}\"]`\n              );\n              lastTargetTocItem.parentElement.classList.remove(\n                \"active-toc-sidebar-item\"\n              );\n            } else {\n              newTargets.push(lastTarget);\n            }\n          });\n\n          lastTargets = newTargets;\n          if (\n            lastToBeAdded == null ||\n            !isInView(lastToBeAdded) ||\n            (isInView(lastToBeAdded) &&\n              isNewestInScrollDirection(entry.target, lastToBeAdded))\n          ) {\n            lastToBeAdded = entry.target;\n          }\n\n          tocItem.parentElement.classList.add(\"active-toc-sidebar-item\");\n        } else if (lastTargets.length > 0) {\n          lastTargets.forEach((lastTarget) => {\n            if (lastTarget != lastToBeAdded && !isInView(lastTarget)) {\n              const lastTargetId = lastTarget.getAttribute(\"id\");\n              const lastTargetTocItem = document.querySelector(\n                `#table-of-contents-sidebar a[href$=\"#${lastTargetId}\"]`\n              );\n              lastTargetTocItem.parentElement.classList.remove(\n                \"active-toc-sidebar-item\"\n              );\n            }\n          });\n        }\n      }\n    });\n  });\n\n  // Track all h1-4 that have an id on them.\n  document.querySelectorAll(\"h1[id]\").forEach((item) => {\n    observer.observe(item);\n  });\n  document.querySelectorAll(\"h2[id]\").forEach((item) => {\n    observer.observe(item);\n  });\n  document.querySelectorAll(\"h3[id]\").forEach((item) => {\n    observer.observe(item);\n  });\n  document.querySelectorAll(\"h4[id]\").forEach((item) => {\n    observer.observe(item);\n  });\n});\n\nfunction hideTocPopover() {\n  const tocPopover = document.getElementById(\n    \"table-of-contents-sidebar-popover\"\n  );\n  tocPopover.hidePopover();\n}\n"
  ],
  "mappings": "AAAA,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,SAAS,CAAQ,CAAC,EAAM,CACtB,MAAM,EAAe,EAAK,sBAAsB,EAEhD,GACE,EAAa,KAAO,GACpB,EAAa,MAAQ,GACrB,EAAa,SACV,OAAO,aAAe,SAAS,gBAAgB,eAClD,EAAa,QACV,OAAO,YAAc,SAAS,gBAAgB,aAEjD,MAAO,OAEP,OAAO,GAIX,IAAI,EAAgB,OAAO,aAAe,SAAS,gBAAgB,UAC/D,EAAsB,GAC1B,OAAO,iBACL,iBACS,EAAG,CACV,MAAM,EAAK,OAAO,aAAe,SAAS,gBAAgB,UAC1D,GAAI,EAAK,GAAiB,IAAwB,OAChD,EAAsB,eACb,EAAK,GAAiB,IAAwB,KACvD,EAAsB,KAExB,EAAgB,GAAM,EAAI,EAAI,GAEhC,EACF,EAEA,SAAS,CAAyB,CAAC,EAAO,EAAO,CAC/C,MAAM,EAAgB,EAAM,sBAAsB,EAC5C,EAAgB,EAAM,sBAAsB,EAElD,GACE,GAAuB,QACvB,EAAc,IAAM,EAAc,IAElC,MAAO,WAEP,GAAuB,MACvB,EAAc,IAAM,EAAc,IAElC,MAAO,OAEP,OAAO,GAMX,IAAI,EAAc,CAAC,EACf,EAAgB,KACpB,MAAM,EAAW,IAAI,qBAAqB,CAAC,IAAY,CACrD,EAAQ,QAAQ,CAAC,IAAU,CACzB,MAAM,EAAK,EAAM,OAAO,aAAa,IAAI,EACnC,EAAU,SAAS,cACvB,yCAAwC,KAC1C,EACA,GAAI,GACF,GAAI,EAAM,kBAAoB,EAAG,CAC/B,MAAM,EAAa,CAAC,EAAM,MAAM,EAgBhC,GAfA,EAAY,QAAQ,CAAC,IAAe,CAClC,IAAK,EAAS,CAAU,EAAG,CACzB,MAAM,EAAe,EAAW,aAAa,IAAI,EAIjD,AAH0B,SAAS,cACjC,yCAAwC,KAC1C,EACkB,cAAc,UAAU,OACxC,yBACF,MAEA,GAAW,KAAK,CAAU,EAE7B,EAED,EAAc,EAEZ,GAAiB,OAChB,EAAS,CAAa,GACtB,EAAS,CAAa,GACrB,EAA0B,EAAM,OAAQ,CAAa,EAEvD,EAAgB,EAAM,OAGxB,EAAQ,cAAc,UAAU,IAAI,yBAAyB,UACpD,EAAY,OAAS,EAC9B,EAAY,QAAQ,CAAC,IAAe,CAClC,GAAI,GAAc,IAAkB,EAAS,CAAU,EAAG,CACxD,MAAM,EAAe,EAAW,aAAa,IAAI,EAIjD,AAH0B,SAAS,cACjC,yCAAwC,KAC1C,EACkB,cAAc,UAAU,OACxC,yBACF,GAEH,GAGN,EACF,EAGD,SAAS,iBAAiB,QAAQ,EAAE,QAAQ,CAAC,IAAS,CACpD,EAAS,QAAQ,CAAI,EACtB,EACD,SAAS,iBAAiB,QAAQ,EAAE,QAAQ,CAAC,IAAS,CACpD,EAAS,QAAQ,CAAI,EACtB,EACD,SAAS,iBAAiB,QAAQ,EAAE,QAAQ,CAAC,IAAS,CACpD,EAAS,QAAQ,CAAI,EACtB,EACD,SAAS,iBAAiB,QAAQ,EAAE,QAAQ,CAAC,IAAS,CACpD,EAAS,QAAQ,CAAI,EACtB,EACF",
  "debugId": "1C0B3EBE3E2DB56964756e2164756e21",
  "names": []
}