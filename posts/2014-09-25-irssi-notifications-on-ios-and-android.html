---
title: Irssi notifications on iOS and Android
---

<p>Or really anywhere that <a href="https://pushover.net">https://pushover.net</a> supports. </p>
<p>In light of the <a href="http://codetalk.io/blog/6/local-notifications-from-irssi-on-a-remote-server">earlier article</a>, I thought I'd might as well supercharge my IRC setup. So, now we're gonna get some notifications for our mobile devices via pushover.</p>
<h2 id="settinguppushover">Setting up pushover</h2>
<p>There really isn't much to do here. First, go create an account and download the app on the device you want notifications on.</p>
<p>Then, register a pushover application. You can do this from the dashboard, or directly from <a href="https://pushover.net/apps/build">https://pushover.net/apps/build</a>. It will look something like this,</p>
<p><img src="http://i.imgur.com/UkqcfSd.png" alt="Pushover Application Registration" title="Pushover Application Registration"></p>
<h2 id="settingupthescript">Setting up the script</h2>
<p>So, like the article mentioned before, I'm assuming you're using <a href="http://www.irssi.org">irssi</a> and the <a href="http://www.leemhuis.info/files/fnotify/fnotify">fnotify</a> plugin.</p>
<p>Create a file called something like <code>irssi_pushover.sh</code> with the contents below,</p>
<pre>#!/bin/bash

# Replace `YOUR_APP_TOKEN` and `YOUR_USER_TOKEN` with your values from pushover
tail -f /home/user/.irssi/fnotify | while read heading message; do
    url=`echo "${message}" | grep -Eo 'https?://[^ &gt;]+' | head -1`;
    if [ ! "$url" ]; then
        curl -s \
            --form-string "token=YOUR_APP_TOKEN" \
            --form-string "user=YOUR_USER_TOKEN" \
            --form-string "message=${message}" \
            --form-string "title=${heading}" \
            https://api.pushover.net/1/messages.json
    else
        curl -s \
            --form-string "token=YOUR_APP_TOKEN" \
            --form-string "user=YOUR_USER_TOKEN" \
            --form-string "message=${message}" \
            --form-string "title=${heading}" \
            --form-string "url=${url}" \
            https://api.pushover.net/1/messages.json
    fi;
done;
</pre>
<p>This script will read from <code>/home/user/.irssi/fnotify</code> and send a POST request with the message and title via CURL using the <a href="https://pushover.net/api">pushover API</a>. </p>
<p>You need to change the destination to the correct location of your fnotify file, and of course also replace <code>YOUR_APP_TOKEN</code> and <code>YOUR_USER_TOKEN</code> with your values from pushover (the user token is on the dashboard and the app token is under the app).</p>
<h2 id="conclusion">Conclusion</h2>
<p>Now you've got notifications on your phone too! :) Never miss a moment of IRC again. A tip: you can make pushover open links directly to the browser under settings in the app.</p>
